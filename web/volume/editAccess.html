<ng-form name="volumeEditAccessForm">
  <fieldset class="radio-set volume-edit-access-radioset" ng-disabled="!page.models.Login.checkAuthorization(page.permission.EDIT)" ng-form="accessPresetForm">
    <legend message="access.preset.legend"></legend>
    <div class="col message message-yellow message-content" ng-if="::!page.models.Login.checkAuthorization(page.permission.EDIT)" message="access.preset.restricted"></div>
    <div ng-repeat="perms in page.constants.accessPreset track by $index">
      <input type="radio" ng-model="volumeEditAccessForm.preset" name="access-preset" ng-value="$index">
      <label class="option"><span message="access.preset.title{{::$index}}"></span>: <span message="access.preset.select{{::$index}}"></span></label>
    </div>
  </fieldset>

  <scroll-float>
    <fieldset class="clean">
      <div class="col-desktop-5 col-tablet-5 col-mobile-6">
        <button ng-click="volumeEditAccessForm.saveAll()" class="green" message="save" ng-disabled="volumeEditAccessForm.$pristine || volumeEditAccessForm.$invalid || volumeEditAccessForm.$submitted"></button>
        <button ng-click="volumeEditAccessForm.resetAll()" message="revert" ng-disabled="volumeEditAccessForm.$pristine || volumeEditAccessForm.$submitted"></button>
      </div>
      <access-search-form class="col-desktop-6 col-tablet-4 col-mobile-6" placeholder-text="{{::'access.search.legend' | message}}"></access-search-form>
    </fieldset>
  </scroll-float>

  <fieldset>
    <legend message="access.grant.legend"></legend>
    <article ng-repeat="access in volumeEditAccessForm.data track by access.party.id" id="access-{{::access.party.id}}" class="access-grant cf anchor">
      <div class="row">
        <access-grant-form></access-grant-form>
      </div>
    </article>
  </fieldset>

</ng-form>
